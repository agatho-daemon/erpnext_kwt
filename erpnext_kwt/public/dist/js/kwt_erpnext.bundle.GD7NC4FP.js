(()=>{frappe.ui.form.on("Address",{setup:function(e){e.set_kwt_address=function(){e.set_df_property("custom_district","hidden",0),e.set_df_property("city","hidden",1),e.set_df_property("county","hidden",1),e.set_df_property("state","label","Governorate"),e.set_df_property("pincode","label","PACI")},e.reset_address=function(){e.set_df_property("custom_district","hidden",1),e.set_df_property("city","hidden",0),e.set_df_property("county","hidden",0),e.set_df_property("state","label","State/Province"),e.set_df_property("pincode","label","Postal Code")}},country:function(e){e.doc.country=="Kuwait"?e.set_kwt_address():e.reset_address()},custom_district:function(e){let t=e.doc.custom_district;e.set_value("city",t),frappe.db.get_value("KWT District",e.doc.custom_district,"governorate").then(i=>{i.message&&e.set_value("state",i.message.governorate)})},refresh:function(e){e.doc.country=="Kuwait"?e.set_kwt_address():e.reset_address()}});frappe.provide("frappe.ui.form");var o=frappe.ui.form.ContactAddressQuickEntryForm.prototype.get_variant_fields;frappe.ui.form.ContactAddressQuickEntryForm.prototype.get_variant_fields=function(){var e=[{fieldtype:"Section Break",label:__("Primary Contact Details"),collapsible:1},{label:__("Email Id"),fieldname:"email_address",fieldtype:"Data",options:"Email"},{fieldtype:"Column Break"},{label:__("Mobile Number"),fieldname:"mobile_number",fieldtype:"Data"},{fieldtype:"Section Break",label:__("Primary Address Details"),collapsible:1},{label:__("Country"),fieldname:"country",fieldtype:"Link",options:"Country",default:"Kuwait",reqd:1},{label:__("Address Line 1"),fieldname:"address_line1",fieldtype:"Data",reqd:1},{label:__("Address Line 2"),fieldname:"address_line2",fieldtype:"Data"},{fieldtype:"Column Break"},{label:__("District"),fieldname:"custom_district",fieldtype:"Link",options:"KWT District",reqd:1,hidden:0},{label:__("City/Town"),fieldname:"city",fieldtype:"Data",reqd:1,hidden:1},{label:__("Governorate"),fieldname:"state",fieldtype:"Data"},{label:__("PACI"),fieldname:"pincode",fieldtype:"Data"},{label:__("Customer POS Id"),fieldname:"customer_pos_id",fieldtype:"Data",hidden:1}];return e};var d=frappe.ui.form.ContactAddressQuickEntryForm.prototype.render_dialog;frappe.ui.form.ContactAddressQuickEntryForm.prototype.render_dialog=function(){d.apply(this),this.dialog.fields_dict.country&&(this.dialog.fields_dict.country.df.onchange=()=>{this.country_changed()}),this.dialog.fields_dict.custom_district&&(this.dialog.fields_dict.custom_district.df.onchange=()=>{this.custom_district_changed()})};frappe.ui.form.ContactAddressQuickEntryForm.prototype.custom_district_changed=function(){let e=this.dialog.get_value("custom_district");e&&frappe.db.get_value("KWT District",e,"governorate").then(t=>{t.message&&(this.dialog.set_value("state",t.message.governorate),this.dialog.set_value("city",e),this.dialog.set_value("custom_district",e))})};frappe.ui.form.ContactAddressQuickEntryForm.prototype.country_changed=function(){this.dialog.get_value("country")!=="Kuwait"&&(this.dialog.set_df_property("custom_district","hidden",1),this.dialog.set_df_property("city","hidden",0),this.dialog.set_df_property("state","label","State/Province"),this.dialog.set_df_property("pincode","label","Postal Code"))};var s=frappe.ui.form.ContactAddressQuickEntryForm.prototype.insert;frappe.ui.form.ContactAddressQuickEntryForm.prototype.insert=function(){return this.dialog.doc.custom_district=this.dialog.fields_dict.custom_district.get_value(),Object.entries({email_address:"email_id",mobile_number:"mobile_no"}).forEach(([t,i])=>{this.dialog.doc[i]=this.dialog.doc[t],delete this.dialog.doc[t]}),frappe.ui.form.QuickEntryForm.prototype.insert.apply(this)};})();
//# sourceMappingURL=kwt_erpnext.bundle.GD7NC4FP.js.map
